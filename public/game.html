<!DOCTYPE html>
<html>
    <head>
        <script>
            // CONSTANTS
            FRAMERATE = 60;
            GRAVITY = 0.01;
            // VARIABLES
            fish = {
                y:0,
                h:10,
                dy:0,
                element:NULL,
            }
            captureZone = {
                y:0,
                h:10,
                dy:0,
                element:NULL,
            }
            captureBound = {
                y:0,
                h:10,
                element:NULL,
            }

            captureProgess = 3;
            catpureZone.dy = 0; // positive values correspond to upwards movement
            clicksThisFrame = 0;

            function init() {
                fish.element=document.getElementById("fish");
                captureZone.element=document.getElementById("captureZone");
                captureBound.getElementByID=document.getElementById("captureBound");
                setInterval(gameloop,1000/FRAMERATE);
            }
            function gameloop() {
                fish.y = 50 + Math.random() * 5;

                catpureZone.dy -= GRAVITY;
                captureZone.y += catpureZone.dy;
                
                updatePhysics();
                updateHTML();


                if (
                    fish.y + fish.h > captureZone.y && fish.y + fish.h < captureZone.h
                ) {
                    captureProgess++;
                    captureZone.element.style.background-color="red";
                }
            }

            function updatePhysics() {
                catpureZone.dy -= GRAVITY;
                captureZone.y += catpureZone.dy;
            }

            function updateHTML() {
                document.getElementById("fish").style.bottom = fish.h + "%";
                captureZone.element = document.getElementById("captureZone")
                captureZone.element.style.bottom = captureZone.h + "%";
                captureZone.element.style.height = captureZoneSize + "%";
                captureProgessElement = document.getElementById("captureProgess");
                captureProgessElement.style.height = captureProgess + "%";
            }

            function reel() {
                catpureZoneMomentum += 1;
            }
        </script>
        <style>
            .fishingGUI {
                background-color: blue;
            }
            .captureZone {
                background-color: beige;
                position:relative;
                width: 100px;
                height: 0px;
                left: 0px;
                bottom: 0px;
                z-index: 5; 
            }
        </style>
    </head>
    <body onload="init()">
        <div onclick="reel()", class="fishingGUI", style="width: 50vh; height: 50vh; position:fixed ;">
            <div id="captureZone", class="captureZone"></div>
            <div id="fish", style="position:absolute; z-index: 10;" >
                <img src="game_assets/fish.png"> 
            </div>
            <div id="captureProgess", class="captureProgess", style="background-color: aqua";></div>
        </div>
    </body>
</html>

